function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}testWebP((function(e){1==e&&document.querySelector("body").classList.add("webp")}));let slideUp=(e,t=400)=>{e.classList.contains("-anim")||(e.classList.add("-anim"),e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout((()=>{e.hidden=!0,e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("-anim")}),t))},slideDown=(e,t=400)=>{if(!e.classList.contains("-anim")){e.classList.add("-anim"),e.hidden&&(e.hidden=!1);let r=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=r+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout((()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("-anim")}),t)}},slideToggle=(e,t=400)=>e.hidden?slideDown(e,t):slideUp(e,t);class Me{constructor(e){this.typeMedia=e}init(){if(this.elements=document.querySelectorAll("[data-me]"),this.objects=[],this.elements.length>0){for(let e=0;e<this.elements.length;e++){const t=this.elements[e],r={};r.el=t;const s=t.dataset.me.split(",").map((e=>e.trim()));r.dataAttr={size:s[0],block:s[1],index:s[2]},r.parentElement=r.el.parentElement,r.indexParent=Array.from(r.parentElement.children).indexOf(r.el),this.objects.push(r)}for(let e=0;e<this.objects.length;e++){const t=this.objects[e],r=window.matchMedia(`(${this.typeMedia}-width:${t.dataAttr.size}px)`);this.mediaHandler(r,t),r.addEventListener("change",(e=>this.mediaHandler(e,t)))}}}mediaHandler(e,t){e.matches?(t.el.classList.add("-me"),this.moveTo(t.el,t.dataAttr.block,t.dataAttr.index)):(t.el.classList.remove("-me"),this.moveBack(t.el,t.parentElement,t.indexParent))}moveTo(e,t,r){if(document.querySelector(t)){const s=document.querySelector(t),o=s.children,l="first"==r?0:"last"==r?void 0:r;null!=o[l]?o[l].insertAdjacentElement("beforebegin",e):s.insertAdjacentElement("beforeend",e)}}moveBack(e,t,r){const s=t.children;null!=s[r]?s[r].insertAdjacentElement("beforebegin",e):t.insertAdjacentElement("beforeend",e)}}const me=new Me("max");me.init();class Spoller{init(){if(this.elements=document.querySelectorAll("[data-spollers]"),this.objects=[],this.elements.length>0){for(let e=0;e<this.elements.length;e++){const t=this.elements[e],r={};r.el=t,r.oneSpoller=r.el.hasAttribute("data-one-spoller"),r.items=r.el.querySelectorAll("[data-spoller-item]");const s=r.el.dataset.spollers.split(",").map((e=>e.trim()));r.mediaSettings={type:s[0],size:s[1]},r.activeItems=Array.from(r.items).filter((e=>e.classList.contains("-active"))),this.objects.push(r)}for(let e=0;e<this.objects.length;e++){const t=this.objects[e],r=window.matchMedia(`(${t.mediaSettings.type}-width:${t.mediaSettings.size}px)`);this.mediaHandler(r,t.el,t.items,t.activeItems,t.oneSpoller),r.addEventListener("change",(e=>this.mediaHandler(e,t.el,t.items,t.activeItems,t.oneSpoller)))}}}mediaHandler(e,t,r,s,o){if(e.matches){const e=[],s=[];r.forEach((t=>t.classList.contains("-active")?e.push(t):s.push(t))),e.length>0?o?e.length>1?(slideDown(r[0].nextElementSibling,0),e.forEach((e=>{e.classList.remove("-active"),slideUp(e.nextElementSibling,0)})),r[0].classList.add("-active")):1==e.length&&slideDown(e[0].nextElementSibling,0):e.forEach((e=>{slideDown(e.nextElementSibling,0)})):o&&(r[0].classList.add("-active"),slideDown(r[0].nextElementSibling,0)),s.length>0&&s.forEach((e=>{slideUp(e.nextElementSibling,0)})),t.items=r,t.oneSpoller=o,t.addEventListener("click",this.actionSpollerElement)}else r.forEach((e=>{e.classList.remove("-active"),slideDown(e.nextElementSibling,0)})),s.length>0&&s.forEach((e=>e.classList.add("-active"))),t.items&&t.oneSpoller&&(delete t.items,delete t.oneSpoller),t.removeEventListener("click",this.actionSpollerElement)}actionSpollerElement(e){const t=e.target,r=e.currentTarget.items,s=e.currentTarget.oneSpoller,o=Array.from(r).filter((e=>e.nextElementSibling.classList.contains("-anim")));if(t.closest("[data-spoller-item]")){const l=t.closest("[data-spoller-item]");l.querySelector("[data-spoller-openner]")&&!t.closest("[data-spoller-openner]")||(e.preventDefault(),0===o.length&&(l.classList.contains("-active")?s||(l.classList.remove("-active"),slideUp(l.nextElementSibling)):(slideDown(l.nextElementSibling),s&&r.forEach((e=>{e.classList.remove("-active"),slideUp(e.nextElementSibling)})),l.classList.add("-active"))))}}}const spoller=new Spoller;spoller.init();class ValidateForm{constructor(e,t){this.form=e,this.objUser=t,e.addEventListener("submit",(r=>this.formSend(r,this,e,t)))}async formSend(e,t,r,s){e.preventDefault();if(0===t.validateForm(r,s)){r.classList.add("-sending");new FormData(r);if((await fetch(s.url,{method:s.method})).ok?console.log("result"):console.log("Error"),r.reset(),s.items.input.length>0&&s.items.input.forEach((e=>{e.blur()})),r.querySelectorAll(".-custom-select")){r.querySelectorAll(".-custom-select").forEach((e=>e.reset()))}r.classList.remove("-sending")}else console.log("Emptly")}validateForm(e,t){let r=0;for(const e in t.items){const s=t.items[e];if("input"==e&&s.length>0&&s.forEach((e=>{this.removeError(e),e.classList.contains("-tel")?this.telTest(e)&&(this.addError(e),r++):e.classList.contains("-email")?this.emailTest(e)&&(this.addError(e),r++):e.value||(this.addError(e),r++)})),"checkbox"==e&&s.length>0&&s.forEach((e=>{this.removeError(e),e.checked||(this.addError(e),r++)})),"radio"==e&&s.length>0){const e={};s.forEach((t=>{e[t.name]||(e[t.name]=[]),e[t.name].push(t)}));for(const t in e){const s=e[t],o=Array.from(s).filter((e=>e.checked))[0];s.forEach((e=>{this.removeError(e)})),o||s.forEach((e=>{this.addError(e),r++}))}}"select"==e&&s.length>0&&s.forEach((e=>{e.classList.remove("-error"),e.classList.contains("-custom-select-no-choose")&&(e.classList.add("-error"),r++)}))}return r}removeError(e){e.parentElement.classList.remove("-error"),e.classList.remove("-error");const t=e.closest("form");t.classList.contains("-error")&&t.classList.remove("-error")}addError(e){e.parentElement.classList.add("-error"),e.classList.add("-error");const t=e.closest("form");t.classList.contains("-error")||t.classList.add("-error")}emailTest(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}telTest(e){return!/^((8|\+7)[\- ]?)?(\(?\d{3,4}\)?[\- ]?)?[\d\- ]{5,10}$/.test(e.value)}}const inputsValue=document.querySelectorAll("[data-value]");inputsValue.length>0&&inputsValue.forEach((e=>{const t=e.dataset.value;e.value||(e.placeholder=t),e.addEventListener("focus",(()=>{e.placeholder=""})),e.addEventListener("blur",(()=>{e.placeholder=t}))}));class CustomScroll{init(){if(this.elements=document.querySelectorAll("[data-custom-scroll]"),this.objects=[],this.elements.length>0)for(let e=0;e<this.elements.length;e++){const t=this.elements[e],r={};r.el=t,r.content=r.el.querySelector("[data-custom-scroll-content]"),r.el.insertAdjacentHTML("afterbegin","<div data-custom-scroll-wrap></div>"),r.wrap=r.el.querySelector("[data-custom-scroll-wrap]"),r.wrap.insertAdjacentElement("afterbegin",r.content),r.scroll=[],r.scroll.scrollerBeingDragged=!1,r.scroll.contentPosition=0,this.objects.push(r)}for(let e=0;e<this.objects.length;e++){const t=this.objects[e];this.createScroller(t),t.wrap.addEventListener("scroll",(e=>this.moveScroller(t)));const r=this;t.el.update=function(){const e=t.el.offsetHeight/t.wrap.scrollHeight*t.el.offsetHeight,s=t.el.querySelector("[data-custom-scroll-scrollbar]");e/t.content.offsetHeight<1?s?(t.scroll.scroller.style.height=e+"px",r.moveScroller(t)):r.createScroller(t):s&&s.remove()}}}createScroller(e,t=!0){const r=e.el.offsetHeight/e.wrap.scrollHeight*e.el.offsetHeight;if(r/e.content.offsetHeight<1){e.el.insertAdjacentHTML("beforeend","<div data-custom-scroll-scrollbar><div data-custom-scroll-scroller></div></div>"),e.scroll.scrollBar=e.el.querySelector("[data-custom-scroll-scrollbar]"),e.scroll.scroller=e.el.querySelector("[data-custom-scroll-scroller]");const s=e.scroll.scroller;s.style.height=r+"px",e.wrap.style.paddingRight=s.offsetWidth+"px",t&&(s.addEventListener("mousedown",(t=>this.startDrag(t,e))),window.addEventListener("mouseup",(t=>this.stopDrag(t,e))),window.addEventListener("mousemove",(t=>this.scrollBarScroll(t,e))))}}startDrag(e,t){t.scroll.normalizedPosition=e.pageY,t.scroll.contentPosition=t.wrap.scrollTop,t.scroll.scrollerBeingDragged=!0}stopDrag(e,t){t.scroll.scrollerBeingDragged=!1}scrollBarScroll(e,t){if(!0===t.scroll.scrollerBeingDragged){const r=(e.pageY-t.scroll.normalizedPosition)*(t.wrap.scrollHeight/t.el.offsetHeight);t.wrap.scrollTop=t.scroll.contentPosition+r}}moveScroller(e){const t=e.wrap.scrollTop/e.wrap.scrollHeight*e.el.offsetHeight;e.scroll.scroller.style.top=t+"px"}}const customScroll=new CustomScroll;customScroll.init(),document.addEventListener("click",actionDocument);const header=document.querySelector(".header");function actionDocument(e){const t=e.target;if(t.closest(".burger-header")){const e=t.closest(".burger-header"),r=document.querySelector(".menu");e.classList.toggle("-active"),r.classList.toggle("-open"),header.classList.toggle("-active"),document.body.classList.toggle("-lock")}else if(t.closest(".cart-header")){const e=document.querySelector(".burger-header"),t=document.querySelector(".menu");e.classList.remove("-active"),t.classList.remove("-open"),header.classList.remove("-active"),document.body.classList.remove("-lock")}if(t.closest(".cart-header__action")){e.preventDefault();const r=t.closest(".cart-header__action");document.querySelector(".cart-header__list").querySelector("[data-cart-pid]")&&r.nextElementSibling.classList.toggle("-open")}else if(!t.closest(".item-products__cart")&&!t.closest(".cart-header")){const e=document.querySelector(".cart-header__body");e.classList.contains("-open")&&e.classList.remove("-open")}if(t.closest(".item-products__cart")){e.preventDefault();const r=t.closest(".item-products__cart");if(!r.classList.contains("-hold")){updateCart(r);document.querySelector(".cart-header__body").update()}}if(t.closest(".item-cart__delete")){e.preventDefault();updateCart(t.closest(".item-cart__delete"),!1);document.querySelector(".cart-header__body").update()}}function updateCart(e,t=!0){if(t){e.classList.add("-hold");document.querySelector(".cart-header__quantity").innerHTML++;const t=document.querySelector(".cart-header__list"),r=e.closest(".item-products").dataset.pid;if(t.querySelector(`[data-cart-pid="${r}"]`)){t.querySelector(`[data-cart-pid="${r}"]`).querySelector(".item-cart__quantity span").innerHTML++}else{const s=`<a href="" class="item-cart__image -ai">${e.closest(".item-products").querySelector(".item-products-slider__image").innerHTML}</a>`,o=`<div class="item-cart__content">${'<div class="item-cart__quantity">Quantity: <span>1</span></div>'+'<a href="" class="item-cart__delete">Delete</a>'}</div>`;t.insertAdjacentHTML("beforeend",`<li class="cart-header__item item-cart" data-cart-pid="${r}">${s+o}</li>`)}e.classList.remove("-hold")}else{const t=e.closest(".item-cart"),r=t.querySelector(".item-cart__quantity span"),s=document.querySelector(".cart-header__quantity");if(Math.abs(s.innerHTML)&&s.innerHTML--,Math.abs(r.innerHTML)&&r.innerHTML--,!Math.abs(s.innerHTML)){document.querySelector(".cart-header__body").classList.remove("-open")}Math.abs(r.innerHTML)||t.remove()}}window.addEventListener("resize",(()=>{document.querySelector("[data-custom-scroll]").update()}));const mainSlider=new Swiper(".main-slider__body",{pagination:{el:".main-slider__pagination",clickable:!0,renderBullet:function(e,t){return`<div class="${t}"><span>${e+1}</span></div>`}},simulateTouch:!0,grabCursor:!0,watchOverflow:!1,speed:600,effect:"fade",fadeEffect:{crossFade:!0}}),mainSliderAllSlides=document.querySelector(".main-slider__total"),mainSliderCurrentSlide=document.querySelector(".main-slider__current");mainSliderAllSlides.innerHTML=mainSlider.slides.length,mainSlider.on("slideChange",(function(){let e=++mainSlider.realIndex;mainSliderCurrentSlide.innerHTML=e}));const productSliders=document.querySelectorAll(".item-products-slider__body");productSliders.length>0&&productSliders.forEach((e=>{const t=e.closest(".item-products");new Swiper(e,{pagination:{el:t.querySelector(".item-products-slider__pagination"),clickable:!0},navigation:{prevEl:t.querySelector(".item-products__arrow_prev"),nextEl:t.querySelector(".item-products__arrow_next")},simulateTouch:!0,grabCursor:!0,watchOverflow:!1,speed:600,spaceBetween:15})}));const formContact=document.querySelector(".form-contact");formContact&&new ValidateForm(formContact,{method:"GET",url:"",items:{input:formContact.querySelectorAll('input[type="text"].-req')}});